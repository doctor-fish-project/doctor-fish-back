# ğŸ”– ëª©ì°¨

> ## [âœ¨ Doctor-Fish í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ-notion)
>
> ## [ğŸ‘¥ íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ-1)
>
> ## [ğŸ›  ê°œë°œ ë„êµ¬](#-ê°œë°œ-ë„êµ¬-1)
>
> ## [ğŸ“„ API ëª…ì„¸ì„œ ERD ì„¤ê³„ë„](#-API-ëª…ì„¸ì„œ-ERD-ì„¤ê³„ë„-1)
>
> ## [ğŸ¤ í˜‘ì—… ë°©ì‹](#-í˜‘ì—…-ë°©ì‹-1)
>
> ## [ğŸ“š í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™© ê´€ë¦¬](#-í”„ë¡œì íŠ¸-ì§„í–‰-ìƒí™©-ê´€ë¦¬-1)
>
> ## [ğŸ” ë¸Œëœì¹˜ ì „ëµ](#-ë¸Œëœì¹˜-ì „ëµ-1)
>
> ## [âœ” ì»¨ë²¤ì…˜](#-ì»¨ë²¤ì…˜-1)

<br/>
<br/>

## âœ¨ Doctor-Fish í”„ë¡œì íŠ¸ ì†Œê°œ [Notion](https://www.notion.so/Doctor-fish-Project-9f3d1aeb38044644b760dce23112bd2a?pvs=4)

## ğŸŒŸ ì œëª©

-  ë³‘ì› ì–´í”Œ MEDIBOOK ê°œë°œ

## ğŸš€ ëª©ì 

-  ë°°ìš´ ë‚´ìš© ë³µìŠµ, í˜‘ì—…ì— ëŒ€í•œ ì´í•´

## ğŸ“† ì œì‘ ê¸°ê°„

-  2024.09.30 ~ 2024.11.13

-  ê´€ë¦¬ì ë¡œê·¸ì¸
-  ê´€ë¦¬ì ë©”ë‰´

    >  ì „ì²´ ì˜ˆì•½ & ë‹¹ì¼ ì˜ˆì•½

    >  ë¦¬ë·° ë° ëŒ“ê¸€ ê´€ë¦¬

    >  íšŒì› ê´€ë¦¬

    >  ê´€ë¦¬ì ì¶”ê°€(íšŒì›ê°€ì…)

    >  ì—°ì°¨ ì‹ ì²­ & ì—°ì°¨ ê´€ë¦¬

    >  ì˜ì‚¬ ì •ë³´ ìˆ˜ì • (ì†Œê°œê¸€ ë° ì•½ë ¥)

    >  ê³µì§€ì‚¬í•­

    >  ì„¤ì •(ì¤€ë¹„ì¤‘)

-  ì‚¬ìš©ì ë¡œê·¸ì¸ & íšŒì›ê°€ì…
-  ì‚¬ìš©ì ë©”ë‰´

    >  ì˜ˆì•½ ì‹ ì²­ & ì˜ˆì•½ ì¡°íšŒ

    >  ê³µì§€ì‚¬í•­ ë° ì˜ˆì•½ ì•Œë¦¼

    >  ë¦¬ë·° ì‘ì„± & ë¦¬ë·° ì¢‹ì•„ìš” & ëŒ“ê¸€ ì‘ì„± 

    >  ì˜ì‚¬ ì •ë³´ 

    >  ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •

    >  ë‚´ ì‘ì„± ë¦¬ë·° & ëŒ“ê¸€ ì¡°íšŒ  -> ì‚­ì œ ë° ìˆ˜ì • ê°€ëŠ¥

<br/>
<br/>

## ğŸ‘¥ íŒ€ì› ì†Œê°œ

<div align="center">
<img src="https://github.com/user-attachments/assets/a01db6f4-38cb-4f72-b7f6-92fb14d0fc60" />
<table >
    <thead>
        <tr>
            <th align="center"><span>ë°±ìŠ¹ì£¼(íŒ€ì¥)</span></th>
            <th align="center"><span>ì„±ì°½í•´</span></th>
            <th align="center"><span>ê¹€í•´ë¯¼</span></th>
            <th align="center"><span>ê¹€ì§€í˜„</span></th>
        </tr>
    </thead>
    <tbody>
        <td align="center">
            <a href="">
            </a>
        </td>
        <td align="center">
            <a href="">
            </a>
        </td>
        <td align="center">
            <a href="https://github.com/burgundy02">
            </a>
        </td>
        <td align="center">
            <a href="">
            </a>
        </td>
    </tbody>
</table>
</div>

<br/>
<br/>

## ğŸ’¼ ì—­í•  ë¶„ë‹´

>  **íŒ€ì¥: ë°±ìŠ¹ì£¼**
-  ì‚¬ìš©ì í˜ì´ì§€ CSS
-  ê´€ë¦¬ì í˜ì´ì§€ CSS
-  ppt ì œì‘
-  ìµœì¢… ë°œí‘œ

>  **íŒ€ì›: ì„±ì°½í•´**
- ì‚¬ìš©ì í˜ì´ì§€ api ê¸°ëŠ¥ êµ¬í˜„
- ê´€ë¦¬ì í˜ì´ì§€ api ê¸°ëŠ¥ êµ¬í˜„
- ì˜ˆì•½ ê¸°ëŠ¥ì— ë”°ë¥¸ í•„í„° ê¸°ëŠ¥ êµ¬í˜„

>  **íŒ€ì›: ê¹€í•´ë¯¼**
- ë°±ì—”ë“œ ë¡œê·¸ì¸, íšŒì›ê°€ì… ê¸°ëŠ¥ êµ¬í˜„
- ë°±ì—”ë“œ ì „ë°˜ì ì¸ CRUD ê¸°ëŠ¥ êµ¬í˜„
- ê²€ìƒ‰ ê¸°ëŠ¥
- ERD ì‘ì„±

>  **íŒ€ì›: ê¹€ì§€í˜„**
- ê³µì§€ì‚¬í•­ CRUD ê¸°ëŠ¥ êµ¬í˜„
- ë°±ì—”ë“œ ì˜ˆì•½,ì¡°íšŒ ê¸°ëŠ¥ ìˆ˜ì •
- ë°±ì—”ë“œ ì˜ì‚¬ ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„
- ë°±ì—”ë“œ ì˜ˆì•½ ì •ë³´ ìˆ˜ì • ê¸°ëŠ¥ êµ¬í˜„
- ë°±ì—”ë“œ ê³µì§€ì‚¬í•­ ì¡°íšŒ ìˆ˜ì • ê¸°ëŠ¥ êµ¬í˜„
- ë°±ì—”ë“œ ê´€ë¦¬ì ë¦¬ë·° ë‹¨ê±´ ì¡°íšŒ, ê´€ë¦¬ì ë³¸ì¸ ì •ë³´ ì¡°íšŒ, ìœ ì € ë¦¬ë·° ë‹¨ê±´ ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„

>  **ê³µë™ì‘ì—…**
-  APIëª…ì„¸ì„œ ì‘ì„±
-  DB í…Œì´ë¸” êµ¬ì¡° êµ¬ì„±

<br/>
<br/>

## **ğŸ›  ê°œë°œ ë„êµ¬**

### FrontEnd

<p>
<img src="https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB"> 
<img src="https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E"> 
<img src="https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white"> 
<img src="https://img.shields.io/badge/css3-%231572B6.svg?style=for-the-badge&logo=css3&logoColor=white"> 
<img src="https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=for-the-badge&logo=visual-studio-code&logoColor=white">
</p>

### BackEnd

<p>
<img src="https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white"> 
<img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=for-the-badge&logo=SpringBoot&logoColor=white">
<img src="https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white">
<img src="https://img.shields.io/badge/firebase-a08021?style=for-the-badge&logo=firebase&logoColor=ffcd34">
</p>

### SCM & Deployment

<p>
<img src="https://img.shields.io/badge/git-%23F05033.svg?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white">
</p>

### Library

- ### BackEnd
    <p>
    <img src="https://img.shields.io/badge/JWT-black?style=for-the-badge&logo=JSON%20web%20tokens">
    <img src="https://img.shields.io/badge/MyBatis-271e1f?style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVR4nO3US4hPcRQH8H9RI+Wx8FohkVfkUdQkC5FXxs6WhZSysSBCTWyRZpryWDHZi7LxSGRBKUtKMmGiRB6ZIvPRqbP4u917/zP/maXv6t77u+f7Ped8z/k1GiMANuI29mJuY7yBM/7F2bGQLcR2TMR8rMVsHMJd/MSftirBKgwrx03Mwv1839BuBdHnAfzCezzH1yR9gjv53IdH+IR3uIWudkXn4G0Sf8GQapxuV2QLvmENJqRXXTiGG0k+lAmsrCLpRTc2Y2rJ+YqKuGhVYFmrLPubSh1ODx7jepSOzoq4+E8mNg+TyxKMH1fnCNahP1pUiNuKF2n2ASzBDxwuE7moNQ5iJqZVVLQYr7G+7HA6XrYQuIxd+I2HOIUdafyUaA/WFSttFlmEjzUCx7G/5rynzuiOVI9snpYED2R77tUI7C4jjrKOYjAn6Fx+25bP13ACM3L2qxDxHc3Em3A1l6iID7iAPblo0ZYH6nGkmPl544dncQuXtWcfvo+RfBALWl1ol3L0RotXWF5JXhBamstW5kkRkcyV2J0RkReEJmFnehTGvsHnvLZjuU7GKI+a+D8aBfwFL0hrRFV1ciwAAAAASUVORK5CYII=&logoColor=white">
    <img src="https://img.shields.io/badge/Lombok-ca0124?style=for-the-badge&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEeElEQVR4nO2aW4hVVRjHP01HzZJGJcpuU6l00Uqzgl4sCrqgDz5IZZjZQxlEaKBJWVA9pEEG3QkqESrtAqWhY+WDQZBpF2ys1DLz0s3spqU2Nr/42GvR19eZaVpzBtaZs39wmLPP3vs/a+219ndbS6SkpKSkpKSk1gEOA14H/gBukXoDmMHfvCf1BHAU8L15AHOlngAeNJ3/Augv9QIwAjhoHsAkqSeAl03nV0tPAjgDuBt4E9gItAAXm/NnAW2h8/r3HOkJAKcElxY7Z1lmrnvE/L5cegLAJGAflTkE3GCu3WnOfQyMlFoGmBw6GWkFloTfTwcGmWsHVHhAvwDjpRYBTnMj/2lH7zQwtJ1Zshc4U2oNYIXr/OBOhL77jQHUjkc+AHpLrQCMcu/52Z2870Vz33bgN3N8tdQKwP2m4Uv/x30nAdvCfa8C9xidt6RWoAhfIxPduaOBdcAmf87kAZcBhwPHGNeps6FBcgcYZzr/M9DPnZ/mjNzzQFMHel+aa0+U3AEWmAYvrnB+mOtUdI865a8HRodZol5kivMkx0nOAL2Are1Nf3PdIOCpdiLD9mjNPisELu1o+le4/oIw8n924gF8KLkDrDQNfiMYLv3b9z/uawJuDpng2mBE1VD+aPRulBrw/W2hsTqi35nGj0rQ09kR+QkYKDkDLDINft98/wrok6C32GgslJyhmMK2imOt/KwEPfUCB8L9OqtGSM4AL5kOf+YM4ZEJevOMRrPkDDDeNLbNjf78BL2BwG6jMUFyhSKD+8g0dr35/quGsgmas41GS9ZZIIXrivwO7DHHdyToaVHkW6MxWXIFODWMcuRdl8oOSNCcaTQ+yXb0gb4hYLGuzkZz1yVo9gd2GY1rJFeA+1yMriMeWa05QRct/2a1L5Kx1T9kGvuOM3xNCZrDXAnsKskRYLhzUS0uo0uK14EXjMbbKTOo2wEGhypOZI8zgs2JU3+i0dCZNUZyA+gHrDEN3e8ehhrBoQm6jW4x5CHJDaCPFjZNI3XKL3P+f2xi8URrAZHPtQ4oOQE0AK/wT+4EnjPH0xK1b3NTP68VIAq/vNx1/olw7njgMWB6ovYVwX1G7pKcoEhIVrnOP1mNsrS+Ls7lNWcV8VGEuBtc51eFabqxK++prg26SpHqNUouUCxI2IRGmQ+8Zo7PTdQ+D/jB6HytK0GSAxQW+XYX4WmF56Zw/vyQ9i5KCVGBqcFbRL5JqRN256akNW7UdXQurIK2prePOu1tWZS4KPz7bDcyMbY/tgr6lwBbnLYWTE6oTg+6bujWuca1hve9oQrl8aUVVn2ezmJlh6Liandhxg0IY7ug2Vt3e4WFDb/Ko//rWskFim1qNqafm1i31/f7IuABYAf/Rh/EM8AQyQngWdPIe0NCYj9HmDC4MdT8dUPTlcCtwMMhZY11+0odX5KNlfcAc+ge1HMs1IclOQMMcSWsVNrCXj7d3Hh5tiWsSgAnh50ZO8MKrP3EjUkHwvHWELLq9tbHQxY3ISX/LykpKSkpKZHu5C8+ETRdu+5D6AAAAABJRU5ErkJggg==&logoColor=white">
    </p>

- ### FrontEnd
    <p>
    <img src="https://img.shields.io/badge/-React%20Query-FF4154?style=for-the-badge&logo=react%20query&logoColor=white">
    <img src="https://img.shields.io/badge/React_Router-CA4245?style=for-the-badge&logo=react-router&logoColor=white">
    <img src="https://img.shields.io/badge/chart.js-F5788D.svg?style=for-the-badge&logo=chart.js&logoColor=white">
    </p>

### í˜•ìƒ ê´€ë¦¬
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"> <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">

<br/>

### â›“ï¸ pom.xml(Back-end)

| ë¼ì´ë¸ŒëŸ¬ë¦¬                          | ìš©ë„                                  |
| ----------------------------------- | ------------------------------------- |
| lombok                              | ì–´ë…¸í…Œì´ì…˜(@)ìœ¼ë¡œ ì½”ë“œ ìë™ ìƒì„±      |
| spring-boot-starter-security        | spring security ì ìš©                  |
| spring-boot-starter-mail            | ì´ë©”ì¼ ì¸ì¦                          |
| spring-boot-starter-validation      | ì…ë ¥ ê°’ ê²€ì¦                          |
| spring-boot-starter-web             | Spring Web í”„ë¡œì íŠ¸ì— í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| spring-boot-starter-test            | í”„ë¡œì íŠ¸ ì‘ë™ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì—­í•        |
| mybatis-spring-boot-starter         | ë°±ì—”ë“œì—ì„œ MyBatis ë¬¸ë²• ì ìš©          |
| spring-boot-devtools                | ë¹ ë¥¸ ì¬ì‹œì‘                           |
| mysql-connector-java                | DBì¸ MySQLê³¼ ì—°ê²°                     |
| jjwt-api / jjwt-impl / jjwt-jackson | JWT(JSON Web Token) í™œìš©              |
| spring-boot-starter-oauth2-client   | Oauth2 ì¸ì¦                           |
| spring-boot-starter-aop             | spring aop ì ìš©                       |

### â›“ï¸ node_modules(Front-end)

| ëª¨ë“ˆ ì´ë¦„                                                                   | ìš©ë„                                       |
| --------------------------------------------------------------------------- | ------------------------------------------ |
| emotion/react, emotion/styled                                               | ë¦¬ì•¡íŠ¸ ë‚´ css ì ìš©                         |
| testing-library/jest-dom, testing-library/react, testing-library/user-event | ë¦¬ì•¡íŠ¸ dom í…ŒìŠ¤íŠ¸                          |
| axios                                                                       | ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ í†µì‹                     |
| firebase                                                                    | ì €ì¥ëœ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œ                     |
| react-dom, react-router-dom                                                 | ì£¼ì†Œ ìš”ì²­ ë°œìƒ ì‹œ ê° í˜ì´ì§€ë¡œ ì´ë™         |
| react-calendar                                                              | ë‹¬ë ¥ì„ ì»¤ìŠ¤í…€í•˜ì—¬ ì‚¬ìš©                     |
| react-icons                                                                 | ë¦¬ì•¡íŠ¸ ì•„ì´ì½˜ì„ ë¶ˆëŸ¬ì™€ ì‚¬ìš©                |
| react-query                                                                 | ì„œë²„ ë°ì´í„° ë™ê¸°í™”(fetching, caching) ì§€ì› |
| react-quill                                                                 | ê¸€ ì‘ì„± ìš”ì†Œë¡œ ì»¤ìŠ¤í…€í•˜ì—¬ ì‚¬ìš©             |
| react-js-pagination                                                         | ì—¬ëŸ¬ê°œì˜ ì»¨í…ì¸ ë¥¼ ì—¬ëŸ¬ê°œì˜ í˜ì´ì§€ë¡œ ì´ë™    |
| react-select                                                                | select ìš”ì†Œë¥¼ ì‰½ê²Œ ì‚¬ìš©                    |
| react-modal                                                                 | í˜ì´ì§€ë¥¼ modalì°½ìœ¼ë¡œ ì‚¬ìš©                   |
| react, react-scripts                                                        | ë¦¬ì•¡íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ìš©                     |
| chart.js                                                                    | ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ì°¨íŠ¸ë¡œ ì‹œê°í™”í•˜ëŠ” ì—­í•      |
| recoil                                                                      | ì „ì—­ ìƒíƒœ ê´€ë¦¬                             |
| styled-reset                                                                | ì´ˆê¸° CSS ìŠ¤íƒ€ì¼ ì¬ì„¤ì •                     |
| sweetalert2                                                                 | ì•Œë¦¼ì°½ êµ¬í˜„                                |
| uuid                                                                        | ê³ ìœ  ì•„ì´ë”” ê°’ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ì œê³µ        |

<br/>
<br/>

## ğŸ“„ API ëª…ì„¸ì„œ ERD ì„¤ê³„ë„
### ğŸ“„ API ëª…ì„¸ì„œ
### ì‚¬ìš©ì ê´€ë ¨ API
![ì‚¬ìš©ìAPIëª…ì„¸ì„œ](https://github.com/user-attachments/assets/9a890b17-efa2-4c6d-b355-582d60a920da)

### ê´€ë¦¬ì ê´€ë ¨ API
![ê´€ë¦¬ìAPIëª…ì„¸ì„œ](https://github.com/user-attachments/assets/95dfb748-d030-4609-ade0-bddc4bdecbed)

### ğŸ“ ERD ì„¤ê³„ë„
![ERD](https://github.com/user-attachments/assets/0786033a-a37f-43fd-8a73-47b041db8ffa)


## ğŸ¤ í˜‘ì—… ë°©ì‹

1. í•´ë‹¹í•˜ëŠ” ì—…ë¬´ì— ëŒ€í•´ GitHub Issueë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
2. GitHub Actionsì— ì˜í•´ ìë™ìœ¼ë¡œ ìƒì„±ëœ ë¸Œëœì¹˜ë¡œ ì „í™˜í•˜ì—¬ í•´ë‹¹í•˜ëŠ” ì—…ë¬´ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
3. ì‘ì—…ì„ ì™„ë£Œí•˜ë©´ ê°ìì˜ ìƒì„±í•œ ë¸Œëœì¹˜ì—ì„œ ì½”ë“œë¥¼ pushí•©ë‹ˆë‹¤.
4. PR(Pull Request) ì„ ì˜¤í”ˆí•©ë‹ˆë‹¤.

-   PR(pull request)ì„ ì˜¤í”ˆí•˜ë©´, íŒ€ì¥ì´ ì½”ë“œë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•©ë‹ˆë‹¤.

-   ì½”ë“œ ë¦¬ë·° & ìŠ¹ì¸ì€ íŒ€ì¥ì´ ì¼ì„í–ˆì§€ë§Œ, íŒ€ì›ë“¤ì˜ ì½”ë“œ ìŠ¤íƒ€ì¼ì€ ë‹¤ê°™ì´ ê³µìœ í•˜ë©° ì„œë¡œ ì˜ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë‹¤ ê°™ì´ ì •ë¦¬í•˜ëŠ” ì‹œê°„ì„ ê°€ì§€ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

*   ì»¨íŒ ë‹´ë‹¹
    -   ë°±ìŠ¹ì£¼ : <code>ì„±ì°½í•´</code>
    -   ê¹€í•´ë¯¼ : <code>ì„±ì°½í•´</code>
    -   ê¹€ì§€í˜„ : <code>ì„±ì°½í•´</code>

5. PRì´ mergeë˜ì–´ close ë˜ë©´ í•´ë‹¹ ì´ìŠˆëŠ” ìë™ìœ¼ë¡œ Doneìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤.

<br/>
<br/>

## ğŸ“š í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™© ê´€ë¦¬

-   <a href="https://github.com/doctor-fish-project/doctor-fish-front/issues?q=is%3Aissue+is%3Aclosed">ğŸ“‹ GitHub Issues(Front) & </a>
    <a href="https://github.com/doctor-fish-project/doctor-fish-back/issues?q=is%3Aissue+is%3Aclosed"> GitHub Issues(Back) </a>
    -   ê°„í¸í•œ ì´ìŠˆ ìƒì„±ì„ ìœ„í•´ ì´ìŠˆ í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. + íŒ€ì›ì´ í˜„ì¬ ì–´ë–¤ ì‘ì—…ì„ ì§„í–‰í•˜ê³  ìˆëŠ”ì§€ë¥¼ ë°”ë¡œ ì•Œ ìˆ˜ ìˆì–´ ì˜ì‚¬ì†Œí†µ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
-   <a href="https://github.com/orgs/doctor-fish-project/projects/1">ğŸ“ GitHub Projects</a>
    -   ì¹¸ë°˜ ë³´ë“œë¡œ í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™©ì„ í•œ ëˆˆì— í™•ì¸í•  ìˆ˜ ìˆì–´ ì¼ì •ì„ ê´€ë¦¬í•˜ê¸° ìˆ˜ì›”í–ˆìŠµë‹ˆë‹¤.

<br/>
<br/>

## ğŸ” ë¸Œëœì¹˜ ì „ëµ

<h3>ğŸ’¡ GitHub Flow ì „ëµ</h3>

-   ê°œë°œê³¼ ë™ì‹œì— ì§€ì†ì ìœ¼ë¡œ ë°°í¬ë¥¼ ì§„í–‰í•  ê²ƒì´ ì•„ë‹ˆë¼, ê¸°ëŠ¥ì„ ëª¨ë‘ ê°œë°œí•˜ê³  ìµœì¢…ì ìœ¼ë¡œ ë°°í¬ë¥¼ í•  ì˜ˆì •ì´ì—ˆê¸° ë•Œë¬¸ì— Git flowì— ë¹„í•´ íë¦„ì´ ë‹¨ìˆœí•´ì§ì— ë”°ë¼ ê·¸ ê·œì¹™ë„ ë‹¨ìˆœí•œ GitHub Flow ì „ëµì´ ì í•©í•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

-   í”„ë¡œì íŠ¸ ê¸°ê°„ ë™ì•ˆ íŒ€ì›ë“¤ì´ ê°™ì€ ì‹œê°„ì— ì‘ì—…í•˜ê¸° ë•Œë¬¸ì— ì¦ì€ ì¶©ëŒì´ ë°œìƒí•  ê²ƒì„ ìš°ë ¤í•˜ì—¬ ì¶©ëŒì˜ í¬ê¸°ë¥¼ ì¤„ì´ê³ ì GitHub Flow ì „ëµì„ ì±„íƒí•˜ì—¬ ì‘ì€ ë‹¨ìœ„ë¡œ ì´ìŠˆë¥¼ ìª¼ê°œ ì´ìŠˆ ë³„ë¡œ ë¸Œëœì¹˜ë¥¼ ë¶„ê¸°í•˜ê³  main ë¸Œëœì¹˜ì— ì§€ì†ì ìœ¼ë¡œ merge í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

-   ê¸°ë³¸ì ìœ¼ë¡œ master branchì— ëŒ€í•œ ê·œì¹™ë§Œ ì •í™•í•˜ê²Œ ì •ë¦½ë˜ì–´ ìˆë‹¤ë©´ ë‚˜ë¨¸ì§€ ê°€ì§€ë“¤ì— ëŒ€í•´ì„œëŠ” íŠ¹ë³„í•œ ê´€ì—¬ë¥¼ í•˜ì§€ ì•Šìœ¼ë©° pull requestê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë„ë¡ ê¶Œì¥í•˜ì˜€ìŠµë‹ˆë‹¤.

<br/>
<br/>

## âœ” ì»¨ë²¤ì…˜

íŒ€ì› ê°„ì˜ ì›í™œí•œ ì†Œí†µê³¼ í˜‘ì—…ì„ ìœ„í•´ ì»¤ë°‹ ì»¨ë²¤ì…˜ê³¼, ì½”ë“œ ì»¨ë²¤ì…˜ì„ ë§Œë“¤ì–´ ì´ë¥¼ ë”°ëìŠµë‹ˆë‹¤. ë¦¬ë“œë¯¸ì—ëŠ” ê°„ëµíˆ ì‘ì„±í•˜ê³ , ìì„¸í•œ ì»¨ë²¤ì…˜ì€ ê°ê°ì˜ íƒ€ì´í‹€ì— ë§í¬ëœ ê¹ƒí—ˆë¸Œ ìœ„í‚¤ì— ì ì–´ë‘ì—ˆìŠµë‹ˆë‹¤.

<h3>
<a href="">ğŸ“ ì»¤ë°‹ ì»¨ë²¤ì…˜</a>
</h3>

<div>
<pre background-color="#dbdbdb">
<p>
1. ì»¤ë°‹ ìœ í˜• ì§€ì •
    - ì»¤ë°‹ ìœ í˜•ì€ ì˜ì–´ ëŒ€ë¬¸ìë¡œ ì‘ì„±í•˜ê¸°
    - ì»¤ë°‹ ìœ í˜•
    - Feat : ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
    - Fix : ë²„ê·¸ ìˆ˜ì •
    - Docs : ë¬¸ì„œ ìˆ˜ì •
    - Style : ì½”ë“œ formatting, ì„¸ë¯¸ì½œë¡  ëˆ„ë½, ì½”ë“œ ìì²´ì˜ ë³€ê²½ì´ ì—†ëŠ” ê²½ìš°
    - Refactor : ì½”ë“œ ë¦¬íŒ©í† ë§
    - Test : í…ŒìŠ¤íŠ¸ ì½”ë“œ, ë¦¬íŒ©í† ë§ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€
    - Chore : íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •, ê·¸ ì™¸ ê¸°íƒ€ ìˆ˜ì • ex) .gitignore
    - Design : CSS ë“± ì‚¬ìš©ì UI ë””ìì¸ ë³€ê²½
    - Comment : í•„ìš”í•œ ì£¼ì„ ì¶”ê°€ ë° ë³€ê²½
    - Rename : íŒŒì¼ ë˜ëŠ” í´ë” ëª…ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì˜®ê¸°ëŠ” ì‘ì—…ë§Œì¸ ê²½ìš°
    - Remove : íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ë§Œ ìˆ˜í–‰í•œ ê²½ìš°
    - !BREAKING CHANGE : ì»¤ë‹¤ë€ API ë³€ê²½ì˜ ê²½ìš°
    - !HOTFIX : ê¸‰í•˜ê²Œ ì¹˜ëª…ì ì¸ ë²„ê·¸ë¥¼ ê³ ì³ì•¼ í•˜ëŠ” ê²½ìš°

ğŸ§¾ 2. ì œëª©ê³¼ ë³¸ë¬¸ì„ ë¹ˆí–‰ìœ¼ë¡œ ë¶„ë¦¬ - ì»¤ë°‹ ìœ í˜• ì´í›„ ì œëª©ê³¼ ë³¸ë¬¸ì€ í•œê¸€ë¡œ ì‘ì„±í•˜ì—¬ ë‚´ìš©ì´ ì˜ ì „ë‹¬ë  ìˆ˜ ìˆë„ë¡ í•  ê²ƒ - ë³¸ë¬¸ì—ëŠ” ë³€ê²½í•œ ë‚´ìš©ê³¼ ì´ìœ  ì„¤ëª… (ì–´ë–»ê²Œë³´ë‹¤ëŠ” ë¬´ì—‡ & ì™œë¥¼ ì„¤ëª…)

#ï¸âƒ£ 3. ì œëª© ì²« ê¸€ìëŠ” ëŒ€ë¬¸ìë¡œ, ëì—ëŠ” . ê¸ˆì§€

â†©ï¸ 4. ì œëª©ì€ ì˜ë¬¸ ê¸°ì¤€ 50ì ì´ë‚´ë¡œ í•  ê²ƒ

âºï¸ 5. ìì‹ ì˜ ì½”ë“œê°€ ì§ê´€ì ìœ¼ë¡œ ë°”ë¡œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì§€ ë§ì

ğŸ‘† 6. ì—¬ëŸ¬ê°€ì§€ í•­ëª©ì´ ìˆë‹¤ë©´ ê¸€ë¨¸ë¦¬ ê¸°í˜¸ë¥¼ í†µí•´ ê°€ë…ì„± ë†’ì´ê¸°

</p>
</pre>
</div>

<h3>
<a href="">ğŸ“ ì½”ë“œ ì»¨ë²¤ì…˜</a>
</h3>
<div>
<pre>
<p>
ğŸ›¼ ë¬¸ìì—´ì„ ì²˜ë¦¬í•  ë•ŒëŠ” ìŒë”°ì˜´í‘œë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•©ë‹ˆë‹¤.

ğŸ« ë¬¸ì¥ì´ ì¢…ë£Œë  ë•ŒëŠ” ì„¸ë¯¸ì½œë¡ ì„ ë¶™ì—¬ì¤ë‹ˆë‹¤.

ğŸ’„ í•¨ìˆ˜ëª…, ë³€ìˆ˜ëª…ì€ ì¹´ë©œì¼€ì´ìŠ¤ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.

ğŸ« ê°€ë…ì„±ì„ ìœ„í•´ í•œ ì¤„ì— í•˜ë‚˜ì˜ ë¬¸ì¥ë§Œ ì‘ì„±í•©ë‹ˆë‹¤.

â“ ì£¼ì„ì€ ì„¤ëª…í•˜ë ¤ëŠ” êµ¬ë¬¸ì— ë§ì¶° ë“¤ì—¬ì“°ê¸° í•©ë‹ˆë‹¤.

ğŸ”  ì—°ì‚°ì ì‚¬ì´ì—ëŠ” ê³µë°±ì„ ì¶”ê°€í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤.

ğŸ”¢ ì½¤ë§ˆ ë‹¤ìŒì— ê°’ì´ ì˜¬ ê²½ìš° ê³µë°±ì„ ì¶”ê°€í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤.

ğŸ’¬ ìƒì„±ì í•¨ìˆ˜ëª…ì˜ ë§¨ ì•ê¸€ìëŠ” ëŒ€ë¬¸ìë¡œ í•©ë‹ˆë‹¤.

ğŸ”š varëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. (constë¥¼ let ë³´ë‹¤ ìœ„ì— ì„ ì–¸í•œë‹¤)

ğŸ‘† constì™€ letì€ ì‚¬ìš© ì‹œì ì— ì„ ì–¸ ë° í• ë‹¹ì„ í•œë‹¤. (í•¨ìˆ˜ëŠ” ë³€ìˆ˜ ì„ ì–¸ë¬¸ ë‹¤ìŒì— ì˜¤ë„ë¡í•œë‹¤.)

âœï¸ ì™¸ë¶€ ëª¨ë“ˆê³¼ ë‚´ë¶€ ëª¨ë“ˆì„ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

ğŸ§® ë°°ì—´ê³¼ ê°ì²´ëŠ” ë°˜ë“œì‹œ ë¦¬í„°ëŸ´ë¡œ ì„ ì–¸í•œë‹¤. (new ì‚¬ìš© X)

ğŸ“  ë°°ì—´ ë³µì‚¬ ì‹œ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

ğŸ˜ ë°°ì—´ì˜ ì‹œì‘ ê´„í˜¸ ì•ˆì— ìš”ì†Œê°€ ì¤„ ë°”ê¿ˆìœ¼ë¡œ ì‹œì‘ë˜ì—ˆë‹¤ë©´ ë ê´„í˜¸ ì´ì „ì—ë„ ì¼ê´€ëœ ì¤„ ë°”ê¿ˆ í•´ì•¼í•œë‹¤. (ì¼ê´€ë˜ê²Œ ëª¨ë‘ ì¤„ ë°”ê¿ˆì„ í•´ì£¼ì–´ì•¼ í•œë‹¤.)

ğŸ§¶ ê°ì²´ì˜ í”„ë¡œí¼í‹°ê°€ 1ê°œì¸ ê²½ìš°ì—ë§Œ í•œ ì¤„ ì •ì˜ë¥¼ í—ˆìš©í•˜ë©°, 2ê°œ ì´ìƒì¼ ê²½ìš°ì—ëŠ” ê°œí–‰ì„ ê°•ì œí•œë‹¤. (ê°ì²´ ë¦¬í„°ëŸ´ ì •ì˜ ì‹œ ì½œë¡  ì•ì€ ê³µë°±ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ ì½œë¡  ë’¤ëŠ” í•­ìƒ ê³µë°±ì„ ê°•ì œ)

ğŸ§‚ ë©”ì„œë“œ ë¬¸ë²• ì‚¬ìš© ì‹œ ë©”ì„œë“œ ì‚¬ì´ì— ê°œí–‰ì„ ì¶”ê°€í•œë‹¤.

ğŸŒ­ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ê°€ í•˜ë‚˜ì´ë©´ ê´„í˜¸ë¥¼ ìƒëµí•œë‹¤.

ğŸ³ ë³€ìˆ˜ ë“±ì„ ì¡°í•©í•´ì„œ ë¬¸ìì—´ì„ ìƒì„±í•˜ëŠ” ê²½ìš° í…œí”Œë¦¿ ë¬¸ìì—´ì„ ì´ìš©í•œë‹¤.

ğŸ§‡ ë³€ìˆ˜ ë“±ì„ ì¡°í•©í•´ì„œ ë¬¸ìì—´ì„ ìƒì„±í•˜ëŠ” ê²½ìš° í…œí”Œë¦¿ ë¬¸ìì—´ì„ ì´ìš©í•œë‹¤.

ğŸ¥ wildcard importëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. (importë¬¸ìœ¼ë¡œë¶€í„° ì§ì ‘ exportí•˜ì§€ ì•ŠëŠ”ë‹¤.)

ğŸ¥– í•œ ì¤„ì§œë¦¬ ë¸”ë¡ì¼ ê²½ìš°ë¼ë„ {}ë¥¼ ìƒëµí•˜ì§€ ì•Šìœ¼ë©° ëª…í™•íˆ ì¤„ ë°”ê¿ˆ í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

ğŸ¥¯ switch-case ì‚¬ìš© ì‹œ ì²« ë²ˆì§¸ caseë¬¸ì„ ì œì™¸í•˜ê³  caseë¬¸ ì‚¬ìš© ì´ì „ì— ê°œí–‰í•œë‹¤.

ğŸ¥ ì‚¼ì¤‘ ë“±í˜¸ ì—°ì‚°ìì¸ ===, !==ë§Œ ì‚¬ìš©í•œë‹¤.

ğŸš ë°˜ë³µë¬¸ ì‚¬ìš©ì€ ì¼ë°˜í™”ëœ ìˆœíšŒ ë©”ì„œë“œ ì‚¬ìš©ì„ ê¶Œì¥í•œë‹¤.

ğŸš‘ ëŒë‹¤í•¨ìˆ˜ ì•ˆì—ì„œ ë°–ì— ìˆëŠ” ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ë¼

ğŸšš ì½”ë“œ ë¸”ëŸ­ ì£¼ì„ ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” í•œ ì¤„ ì£¼ì„ì„ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ ì¤„ ì£¼ì„ì„ ì‘ì„±í•  ë•ŒëŠ” \*ì˜ ë“¤ì—¬ì“°ê¸°ë¥¼ ë§ì¶˜ë‹¤. ì£¼ì„ì˜ ì²« ì¤„ê³¼ ë§ˆì§€ë§‰ ì¤„ì€ ë¹„ì›Œë‘ 

ğŸ’« ì‹œì‘ ê´„í˜¸ ë°”ë¡œ ë‹¤ìŒê³¼ ë ê´„í˜¸ ë°”ë¡œ ì´ì „ì— ê³µë°±ì´ ìˆìœ¼ë©´ ì•ˆ ëœë‹¤.

</p>
</pre>
</div>

<br/>

## **âœ¨ í™”ë©´ êµ¬í˜„ ë° ì½”ë“œ ë¦¬ë·°**

<br/>

### ë¡œê·¸ì¸, íšŒì›ê°€ì… ê¸°ëŠ¥ ì½”ë“œ ë¦¬ë·°

<details>
<summary>ê´€ë¦¬ì ë¡œê·¸ì¸ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

```java

@RestController
@RequestMapping("/admin")
public class AdminAuthenticationController {

    @Autowired
    private AdminUserService userService;

     // ì›ë¬´ê³¼, ì˜ì‚¬, ê´€ë¦¬ì ë¡œê·¸ì¸
    @ValidAop
    @PostMapping("/auth/signin")
    public ResponseEntity<?> adminSignin(@Valid @RequestBody ReqAdminSigninDto dto, BindingResult bindingResult) throws SigninException {
        return ResponseEntity.ok().body(userService.getGeneratedAccessToken(dto));
    }

}

```
<br/>

- í”„ë¡ íŠ¸ì—ì„œ ë³´ë‚¸ username, passwordë¥¼ ë°›ëŠ”ë‹¤.  
- ìš”ì²­ì—ì„œ ë°›ì€ ë°ì´í„°ë¡œ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤ì‹œ í›„ ì„±ê³µí•˜ë©´ serviceë¡œ ë„˜ê¸´ë‹¤.

---

<br/><br/>

**dto**

```java

@Data
public class ReqAdminSigninDto {
    @NotBlank(message = "ì•„ì´ë””ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.")
    private String username;
    @NotBlank(message = "ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.")
    private String password;
}

```
<br/>

- ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ë©´ í•´ë‹¹ ë©”ì„¸ì§€ë¥¼ ì—ëŸ¬ ë©”ì„¸ì§€ë¡œ ë°˜í™˜í•´ì¤€ë‹¤.
  
---

<br/><br/>

**service**

```java

@Service
public class AdminUserService {

    @Autowired
    private BCryptPasswordEncoder passwordEncoder;
    @Autowired
    private JwtProvider jwtProvider;
    @Autowired
    private AdminUserMapper userMapper;


     public RespSigninDto getGeneratedAccessToken(ReqAdminSigninDto dto) throws SigninException {
        try {
            User user = checkUsernameAndPassword(dto.getUsername(), dto.getPassword());
    
            return RespSigninDto.builder()
                    .expireDate(jwtProvider.getExpireDate().toLocaleString())
                    .accessToken(jwtProvider.generateAccessToken(user))
                    .build();
        } catch (SigninException e) {
            throw new SigninException(e.getMessage());
        } catch (Exception e) {
            throw new ExecutionException("ì‹¤í–‰ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
        }
    }
    
     private User checkUsernameAndPassword(String email, String password) throws SigninException {
        try {
            User user = userMapper.findByEmail(email);
    
            if(user == null) {
                throw new SigninException("ì‚¬ìš©ì ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”.");
            }
    
            if(!passwordEncoder.matches(password, user.getPassword())) {
                throw new SigninException("ì‚¬ìš©ì ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”.");
            }
    
            return user;
        } catch (SigninException e) {
            throw new SigninException(e.getMessage());
        } catch (Exception e) {
            throw new ExecutionException("ì‹¤í–‰ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
        }
    }
}

```
<br/>

- controllerì—ì„œ ë³´ë‚¸ username, passwordë¥¼ ë°›ì•„ì„œ usernameìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ìë¥¼ ì°¾ê³  passwordë¡œ í•´ë‹¹ ì‚¬ìš©ìì˜ passwordì™€ ë¹„êµë¥¼ í•œë‹¤.  
- ë°ì´í„°ë² ì´ìŠ¤ì— ì‚¬ìš©ìê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•˜ë©´ í† í°ì„ ë°œê¸‰í•´ì¤€ë‹¤.

---

<br/><br/>

**mapper**

```java

@Mapper
public interface AdminUserMapper {

    User findByEmail(String email);

}

```
<br/>

- serviceì—ì„œ ë³´ë‚¸ usernameìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í•´ë‹¹ usernameì„ ê°€ì§€ê³  ìˆëŠ” ì‚¬ìš©ìë¥¼ ì°¾ëŠ”ë‹¤.

---

<br/><br/>

**sql**

```java

<resultMap id="userResultMap" type="com.project.doctor_fish_back.entity.User">
    <id property="id" column="user_id" />
    <result property="email" column="email" />
    <result property="name" column="name" />
    <result property="password" column="password" />
    <result property="phoneNumber" column="phone_number" />
    <result property="img" column="img" />
    <result property="emailValid" column="email_valid" />
    <result property="registerDate" column="register_date" />
    <result property="updateDate" column="update_date" />
    <collection property="userRoles" javaType="java.util.Set" resultMap="userRolesResultMap" />
</resultMap>

<select id="findByEmail" resultMap="userResultMap">
    select
        u.id as user_id,
        u.email,
        u.name,
        u.password,
        u.phone_number,
        u.img,
        u.email_valid,
        u.register_date,
        u.update_date,
        ur.id as user_roles_id,
        ur.user_id as ur_user_id,
        ur.role_id as ur_role_id,
        r.id as role_id,
        r.name as role_name,
        r.position as role_position
    from
        user_tb u
        left outer join user_roles_tb ur on(u.id = ur.user_id)
        left outer join role_tb r on(r.id = ur.role_id)
    where
        email = #{email}
</select>

```
<br/>

- idëŠ” mapperì— ìˆëŠ” findByEmailì´ê³  ë°˜í™˜ ê°’ì€ userResultMapì´ë‹¤.
- whereë¬¸ì—ì„œ serviceì—ì„œ ë°›ì€ email(username)ë¡œ ì‚¬ìš©ìë¥¼ ì°¾ëŠ”ë‹¤.

---

</div>
</details>


<details>
<summary>ì‚¬ìš©ì ë¡œê·¸ì¸ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

```java

@RestController
public class UserAuthenticationController {

    @Autowired
    private UserUserService userService;

    // ì‚¬ìš©ì ë¡œê·¸ì¸
    @ValidAop
    @PostMapping("/auth/signin")
    public ResponseEntity<?> signin(@Valid @RequestBody ReqSigninDto dto, BindingResult bindingResult) throws SigninException {
        return ResponseEntity.ok().body(userService.getGeneratedAccessToken(dto));
    }

}

```
<br/>

- í”„ë¡ íŠ¸ì—ì„œ ë³´ë‚¸ email, passwordë¥¼ ë°›ëŠ”ë‹¤.
- ìš”ì²­ì—ì„œ ë°›ì€ ë°ì´í„°ë¡œ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤ì‹œ í›„ ì„±ê³µí•˜ë©´ serviceë¡œ ë„˜ê¸´ë‹¤.

---

<br/><br/>

**dto**

```java

@Data
public class ReqSigninDto {
    @NotBlank(message = "ì´ë©”ì¼ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.")
    @Email(message = "ì´ë©”ì¼ í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.")
    private String email;
    @NotBlank(message = "ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.")
    private String password;
}

```
<br/>

- ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ë©´ í•´ë‹¹ ë©”ì„¸ì§€ë¥¼ ì—ëŸ¬ ë©”ì„¸ì§€ë¡œ ë°˜í™˜í•´ì¤€ë‹¤.

---

<br/><br/>

**service**

```java

@Service
public class UserUserService {

    @Autowired
    private BCryptPasswordEncoder passwordEncoder;
    @Autowired
    private JwtProvider jwtProvider;
    @Autowired
    private EmailService emailService;
    @Autowired
    private UserUserMapper userMapper;
   
    public RespSigninDto getGeneratedAccessToken(ReqSigninDto dto) throws SigninException {
            try {
                User user = checkUsernameAndPassword(dto.getEmail(), dto.getPassword());
    
                if(user.getEmailValid() != 1) {
                    emailService.sendAuthMail(dto.getEmail());
                    throw new EmailValidException("ì´ë©”ì¼ ì¸ì¦ í›„ ë¡œê·¸ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
                }
    
                return RespSigninDto.builder()
                        .expireDate(jwtProvider.getExpireDate().toLocaleString())
                        .accessToken(jwtProvider.generateAccessToken(user))
                        .build();
            } catch (SigninException e) {
                throw new SigninException(e.getMessage());
            } catch (EmailValidException e) {
                throw new EmailValidException(e.getMessage());
            } catch (Exception e) {
                throw new ExecutionException("ì‹¤í–‰ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
            }
        }

    private User checkUsernameAndPassword(String email, String password) throws SigninException {
        try {
            User user = userMapper.findByEmail(email);

            if(user == null) {
                throw new SigninException("ì‚¬ìš©ì ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”.");
            }

            if(!passwordEncoder.matches(password, user.getPassword())) {
                throw new SigninException("ì‚¬ìš©ì ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”.");
            }

            return user;
        } catch (SigninException e) {
            throw new SigninException(e.getMessage());
        } catch (Exception e) {
            throw new ExecutionException("ì‹¤í–‰ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
        }
    }
}

```
<br/>

- controllerì—ì„œ ë³´ë‚¸ email, passwordë¥¼ ë°›ì•„ì„œ emailë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ìë¥¼ ì°¾ê³  passwordë¡œ í•´ë‹¹ ì‚¬ìš©ìì˜ passwordì™€ ë¹„êµë¥¼ í•œë‹¤.
- ì‚¬ìš©ìê°€ ì´ë©”ì¼ ì¸ì¦ì„ ë°›ì•˜ì„ ë•Œë§Œ ë¡œê·¸ì¸ í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

---

<br/><br/>

**mapper**

```java

@Mapper
public interface UserUserMapper {

     User findByEmail(String email);
}

```
<br/>

- serviceì—ì„œ ë³´ë‚¸ emailë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í•´ë‹¹ emailì„ ê°€ì§€ê³  ìˆëŠ” ì‚¬ìš©ìë¥¼ ì°¾ëŠ”ë‹¤.

---

<br/><br/>

**sql**

```java

<resultMap id="userResultMap" type="com.project.doctor_fish_back.entity.User">
    <id property="id" column="user_id" />
    <result property="email" column="email" />
    <result property="name" column="name" />
    <result property="password" column="password" />
    <result property="phoneNumber" column="phone_number" />
    <result property="img" column="img" />
    <result property="emailValid" column="email_valid" />
    <result property="registerDate" column="register_date" />
    <result property="updateDate" column="update_date" />
    <collection property="userRoles" javaType="java.util.Set" resultMap="userRolesResultMap" />
</resultMap>

<select id="findByEmail" resultMap="userResultMap">
    select
        u.id as user_id,
        u.email,
        u.name,
        u.password,
        u.phone_number,
        u.img,
        u.email_valid,
        u.register_date,
        u.update_date,
        ur.id as user_roles_id,
        ur.user_id as ur_user_id,
        ur.role_id as ur_role_id,
        r.id as role_id,
        r.name as role_name
    from
        user_tb u
        left outer join user_roles_tb ur on(u.id = ur.user_id)
        left outer join role_tb r on(r.id = ur.role_id)
    where
        email = #{email}
</select>

```
<br/>

- idëŠ” mapperì— ìˆëŠ” findByEmailì´ê³  ë°˜í™˜ ê°’ì€ userResultMapì´ë‹¤.
- whereë¬¸ì—ì„œ serviceì—ì„œ ë°›ì€ emailë¡œ ì‚¬ìš©ìë¥¼ ì°¾ëŠ”ë‹¤.

---

</div>
</details>


<details>
<summary>ê´€ë¦¬ì ì¶”ê°€ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

```java

@RestController
@RequestMapping("/admin")
public class AdminAuthenticationController {

    @Autowired
    private AdminUserService userService;

    // ì›ë¬´ê³¼, ì˜ì‚¬, ê´€ë¦¬ì íšŒì›ê°€ì…
    @ValidAop
    @PostMapping("/auth/signup")
    public ResponseEntity<?> adminSignup(@Valid @RequestBody ReqAdminSignupDto dto, BindingResult bindingResult) throws SignupException {
        return ResponseEntity.ok().body(userService.adminSignup(dto));
    }

```
<br/>

- ê´€ë¦¬ìë¥¼ ì¶”ê°€í•  ë•Œ í•„ìš”í•œ ë°ì´í„°ë“¤ì„ ê°ì²´ë¡œ ë°›ëŠ”ë‹¤.
- ìš”ì²­ì—ì„œ ë°›ì€ ë°ì´í„°ë¡œ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤ì‹œ í›„ ì„±ê³µí•˜ë©´ serviceë¡œ ë„˜ê¸´ë‹¤.

---

<br/><br/>

**dto**

```java

@Data
public class ReqAdminSignupDto {
    private Long roleId;
    @NotBlank(message = "ì•„ì´ë””ëŠ” ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    @Pattern(regexp = "^[a-zA-Z]+$", message = "ì•„ì´ë””ëŠ” ì˜ì–´ì—¬ì•¼í•©ë‹ˆë‹¤.")
    private String username;
    @NotBlank(message = "ì´ë¦„ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    private String name;
    @Pattern(regexp = "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[~!@#$%^&*?])[A-Za-z\\d~!@#$%^&*?]{8,16}$", message = "ë¹„ë°€ë²ˆí˜¸ëŠ” 8ìì´ìƒ 16ìì´í•˜ì˜ ì˜ëŒ€ì†Œë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì(~!@#$%^&*?)ë¥¼ í¬í•¨í•˜ì—¬í•©ë‹ˆë‹¤.")
    private String password;
    private String checkPassword;
    @NotBlank(message = "ì „í™”ë²ˆí˜¸ëŠ” ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    private String phoneNumber;
    private Long departId;
    private String comment;
    private String record;

    public User toEntity(BCryptPasswordEncoder passwordEncoder, String img) {
        return User.builder()
                .email(username)
                .name(name)
                .password(passwordEncoder.encode(password))
                .phoneNumber(phoneNumber)
                .img(img)
                .build();
    }
}

```
<br/>

- ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ë©´ í•´ë‹¹ ë©”ì„¸ì§€ë¥¼ ì—ëŸ¬ ë©”ì„¸ì§€ë¡œ ë°˜í™˜í•´ì¤€ë‹¤.
- ë¹„ë°€ë²ˆí˜¸ëŠ” ë³´ì•ˆì„±ì„ ìœ„í•´ BCryptë¡œ ë°”ê¿”ì¤€ë‹¤.

---

<br/><br/>

**service**

```java

@Service
public class AdminUserService {

    @Value("${user.profile.user.img.default}")
    private String userDefaultProfileImg;

    @Value("${user.profile.doctor.img.default}")
    private String doctorDefaultProfileImg;

    @Autowired
    private BCryptPasswordEncoder passwordEncoder;
    @Autowired
    private AdminUserMapper userMapper;
    @Autowired
    private UserRolesMapper userRolesMapper;
    @Autowired
    private AdminDepartMapper departMapper;
    @Autowired
    private AdminDoctorMapper doctorMapper;

    @Transactional(rollbackFor = SignupException.class)
    public Boolean adminSignup(ReqAdminSignupDto dto) throws SignupException {
        User user = null;
        try {
            if (dto.getRoleId() == 2) { // ì›ë¬´ê³¼
                insertInfoOrAdminAndUserRoles(dto, user);
            } else if (dto.getRoleId() == 3) { // ì˜ì‚¬
                doctorSignup(dto, user);
            } else if (dto.getRoleId() == 4) { // ê´€ë¦¬ì
                insertInfoOrAdminAndUserRoles(dto, user);
            } else {
                throw new SignupException("ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤.");
            }
        } catch (Exception e) {
            throw new SignupException(e.getMessage());
        }

        return true;
    }

    private void insertInfoOrAdminAndUserRoles(ReqAdminSignupDto dto, User user) throws SignupException {
        try {
            user = dto.toEntity(passwordEncoder, userDefaultProfileImg);
            userMapper.save(user);

            userMapper.modifyEmailValidById(user.getId());

            UserRoles userRoles = UserRoles.builder()
                    .userId(user.getId())
                    .roleId(dto.getRoleId())
                    .build();

            userRolesMapper.save(userRoles);

            user.setUserRoles(Set.of(userRoles));
        } catch (Exception e) {
            throw new SignupException("ë¡œê·¸ì¸ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
        }
    }

    private void doctorSignup(ReqAdminSignupDto dto, User user) throws SignupException {
        try {
            if(dto.getDepartId() == null || dto.getDepartId() == 0) {
                throw new SignupException("ë¶€ì„œì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.");
            }

            user = dto.toEntity(passwordEncoder, doctorDefaultProfileImg);
            userMapper.save(user);

            userMapper.modifyEmailValidById(user.getId());

            UserRoles userRoles = UserRoles.builder()
                    .userId(user.getId())
                    .roleId(dto.getRoleId())
                    .build();

            userRolesMapper.save(userRoles);

            user.setUserRoles(Set.of(userRoles));

            Depart depart = departMapper.findById(dto.getDepartId());

//            if(depart == null) {
//                departMapper.save(Depart.builder().name(dto.getDepartName()).build());
//                depart = departMapper.findByName(dto.getDepartName());
//            }

            Doctor doctor = Doctor.builder()
                    .userId(user.getId())
                    .departId(depart.getId())
                    .comment(dto.getComment())
                    .record(dto.getRecord())
                    .build();

            doctorMapper.save(doctor);
        } catch (Exception e) {
            e.printStackTrace();
            throw new SignupException("ë¡œê·¸ì¸ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
        }
    }
}

```
<br/>

- ì¶”ê°€í•˜ë ¤ëŠ” ê´€ë¦¬ìì˜ roleì— ë”°ë¼ì„œ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•´ì¤€ë‹¤.
- ì¶”ê°€í•˜ëŠ” ê´€ë¦¬ìê°€ ì˜ì‚¬ì¼ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ì˜ doctorí…Œì´ë¸”ì—ë„ ë°ì´í„°ë¥¼ ì¶”ê°€í•œë‹¤.
- ì²˜ìŒì— ê´€ë¦¬ìë¥¼ ì¶”ê°€í•  ë•ŒëŠ” imgë¥¼ application.ymlì˜ ê¸°ë³¸ ì´ë¯¸ì§€ë¡œ ì¶”ê°€í•œë‹¤.
- ê´€ë¦¬ìëŠ” ì´ë©”ì¼ ì¸ì¦ì„ í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ ì´ë©”ì¼ ì¸ì¦ ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤.
- ê´€ë¦¬ìë¥¼ ì¶”ê°€í•  ë•Œ ì—¬ëŸ¬ í…Œì´ë¸”ì— ì—°ì‡„ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— @Transactionalì„ ì´ìš©í•´ì„œ íŠ¸ë Œì­ì…˜ ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤.

---

<br/><br/>

**mapper**

```java
@Mapper
public interface AdminUserMapper {

    int save(User user);
    int modifyEmailValidById(Long id);

}

@Mapper
public interface UserRolesMapper {

    int save(UserRoles userRoles);

}

@Mapper
public interface AdminDepartMapper {

    Depart findById(Long departId);
}

@Mapper
public interface AdminDoctorMapper {

    int save(Doctor doctor);

}

```
<br/>

- serviceì—ì„œ ë°›ì€ userê°ì²´ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ê´€ë¦¬ìë¥¼ ì¶”ê°€í•œë‹¤.
- serviceì—ì„œ ë°›ì€ doctorê°ì²´ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì‚¬ë¥¼ ì¶”ê°€í•œë‹¤.

---

<br/><br/>

**sql**

```java

<insert id="save" useGeneratedKeys="true" keyProperty="id">
    insert into user_tb
    values(default, #{email}, #{name}, #{password}, #{phoneNumber}, #{img}, default, now(), now())
</insert>

<update id="modifyEmailValidById">
    update user_tb
    set
        email_valid = if(email_valid = 0, 1, 0)
    where
        id = #{id}
</update>

<insert id="save">
    insert into user_roles_tb
    values(default, #{userId}, #{roleId})
</insert>

<select id="findById" resultType="com.project.doctor_fish_back.entity.Depart">
    select
        id,
        name
    from
        depart_tb
    where
        id = #{departId}
</select>

<insert id="save">
    insert into doctor_tb
    values(default, #{userId}, #{departId}, #{comment}, #{record})
</insert>

```
<br/>

- useGeneratedKeys="true" keyProperty="id" -> ë°ì´í„°ë² ì´ìŠ¤ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•œ í›„ ë°”ë¡œ id ê°’ì„ ë“¤ê³ ì˜¨ë‹¤.

---

</div>
</details>


<details>
<summary>ì‚¬ìš©ì íšŒì›ê°€ì… ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**
```java

@RestController
public class UserAuthenticationController {

    @Autowired
    private UserUserService userService;

    // ì‚¬ìš©ì íšŒì›ê°€ì…
    @ValidAop
    @PostMapping("/auth/signup")
    public ResponseEntity<?> userSignup(@Valid @RequestBody ReqSignupDto dto, BindingResult bindingResult) throws SignupException {
        return ResponseEntity.ok().body(userService.insertUserAndUserRoles(dto));
    }
}

```
<br/>

- ì‚¬ìš©ìë¥¼ ì¶”ê°€í•  ë•Œ í•„ìš”í•œ ë°ì´í„°ë“¤ì„ ê°ì²´ë¡œ ë°›ëŠ”ë‹¤.
- ìš”ì²­ì—ì„œ ë°›ì€ ë°ì´í„°ë¡œ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤ì‹œ í›„ ì„±ê³µí•˜ë©´ serviceë¡œ ë„˜ê¸´ë‹¤.

---

<br/><br/>

**dto**

```java

@Data
public class ReqSignupDto {
    @NotBlank(message = "ì´ë©”ì¼ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    @Email(message = "ì´ë©”ì¼ í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.")
    private String email;
    @NotBlank(message = "ì´ë¦„ì€ ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    private String name;
    @Pattern(regexp = "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[~!@#$%^&*?])[A-Za-z\\d~!@#$%^&*?]{8,16}$", message = "8ìì´ìƒ 16ìì´í•˜ì˜ ì˜ëŒ€ì†Œë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì         (~!@#$%^&*?)")
    private String password;
    private String checkPassword;
    @NotBlank(message = "ì „í™”ë²ˆí˜¸ëŠ” ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    private String phoneNumber;

    public User toEntity(BCryptPasswordEncoder passwordEncoder, String defaultProfileImg) {
        return User.builder()
                .email(email)
                .name(name)
                .password(passwordEncoder.encode(password))
                .phoneNumber(phoneNumber)
                .img(defaultProfileImg)
                .build();
    }
}

```
<br/>

- ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ë©´ í•´ë‹¹ ë©”ì„¸ì§€ë¥¼ ì—ëŸ¬ ë©”ì„¸ì§€ë¡œ ë°˜í™˜í•´ì¤€ë‹¤.
- ë¹„ë°€ë²ˆí˜¸ëŠ” ë³´ì•ˆì„±ì„ ìœ„í•´ BCryptë¡œ ë°”ê¿”ì¤€ë‹¤.

---

<br/><br/>

**service**

```java

@Service
public class UserUserService {

    @Value("${user.profile.user.img.default}")
    private String userDefaultProfileImg;

    @Autowired
    private BCryptPasswordEncoder passwordEncoder;
    @Autowired
    private UserUserMapper userMapper;
    @Autowired
    private RoleMapper roleMapper;
    @Autowired
    private UserRolesMapper userRolesMapper;
    @Autowired
    private EmailService emailService;

    @Transactional(rollbackFor = SignupException.class)
    public Boolean insertUserAndUserRoles(ReqSignupDto dto) throws SignupException {
        User user = null;
        try {
            user = dto.toEntity(passwordEncoder, userDefaultProfileImg);
            userMapper.save(user);

            Role role = roleMapper.findByPosition("ROLE_USER");

            if (role == null) {
                role = Role.builder().name("íšŒì›").position("ROLE_USER").build();
                roleMapper.save(role);
            }

            UserRoles userRoles = UserRoles.builder()
                    .userId(user.getId())
                    .roleId(role.getId())
                    .build();

            userRolesMapper.save(userRoles);

            user.setUserRoles(Set.of(userRoles));

            emailService.sendAuthMail(dto.getEmail());
        } catch (Exception e) {
            throw new SignupException(e.getMessage());
        }

        return true;
    }
}

```
<br/>

- íšŒì›ê°€ì…í•  ë•ŒëŠ” imgë¥¼ application.ymlì˜ ê¸°ë³¸ ì´ë¯¸ì§€ë¡œ ì¶”ê°€í•œë‹¤.
- ì‚¬ìš©ìëŠ” ì´ë©”ì¼ ì¸ì¦ì„ í•´ì•¼ í•˜ë¯€ë¡œ ë°ì´í„°ë¥¼ ë‹¤ ì¶”ê°€í•œ í›„ ì´ë©”ì¼ ì¸ì¦ì„ í•  ìˆ˜ ìˆëŠ” ë©”ì¼ì„ ë³´ë‚¸ë‹¤.
- ì‚¬ìš©ìë¥¼ ì¶”ê°€í•  ë•Œ ì—¬ëŸ¬ í…Œì´ë¸”ì— ì—°ì‡„ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— @Transactionalì„ ì´ìš©í•´ì„œ íŠ¸ë Œì­ì…˜ ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤.

---

<br/><br/>

**mapper**

```java

@Mapper
public interface UserUserMapper {

    int save(User user);

}

@Mapper
public interface RoleMapper {

    Role findByPosition(String position);
    int save(Role role);

}

@Mapper
public interface UserRolesMapper {

    int save(UserRoles userRoles);

}

```
<br/>

- serviceì—ì„œ ë°›ì€ userê°ì²´ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ê´€ë¦¬ìë¥¼ ì¶”ê°€í•œë‹¤.

---

<br/><br/>

**sql**

```java

<insert id="save" useGeneratedKeys="true" keyProperty="id">
    insert into user_tb
    values(default, #{email}, #{name}, #{password}, #{phoneNumber}, #{img}, default, now(), now())
</insert>

<select id="findByPosition" resultType="com.project.doctor_fish_back.entity.Role">
    select
        id,
        name,
        position
    from
        role_tb
    where
        position = #{position}
</select>

<insert id="save" useGeneratedKeys="true" keyProperty="id">
    insert into role_tb
    values(default, #{name}, #{position})
</insert>

<insert id="save">
    insert into user_roles_tb
    values(default, #{userId}, #{roleId})
</insert>

```
<br/>

- useGeneratedKeys="true" keyProperty="id" -> ë°ì´í„°ë² ì´ìŠ¤ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•œ í›„ ë°”ë¡œ id ê°’ì„ ë“¤ê³ ì˜¨ë‹¤.

---

</div>
</details>


<br/>

### ê´€ë¦¬ì ì˜ˆì•½ ê¸°ëŠ¥ ì½”ë“œ ë¦¬ë·°

<details>
<summary>ì˜ˆì•½ ìˆ˜ë½ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

```java

@RestController
@RequestMapping("/admin")
public class AdminReservationController {

    @Autowired
    private AdminReservationService reservationService;

    // ì˜ˆì•½ ìˆ˜ë½
    @PutMapping("/reservation/accept/{reservationId}")
    public ResponseEntity<?> acceptReservation(@PathVariable Long reservationId) {
        return ResponseEntity.ok().body(reservationService.acceptReservation(reservationId));
    }
}

```
<br/>

- í”„ë¡ íŠ¸ì—ì„œ ìˆ˜ë½í•´ ì¤„ ì˜ˆì•½ì˜ reservationIdë¥¼ ë°›ëŠ”ë‹¤.

---

<br/><br/>

**service**

```java

@Service
public class AdminReservationService {

    @Autowired
    private AdminReservationMapper reservationMapper;

    @Autowired
    private AdminAlarmInsertMapper alarmInsertMapper;

    public Boolean acceptReservation(Long reservationId) {
            try {
                reservationMapper.acceptById(reservationId);
                Reservation reservation = reservationMapper.findById(reservationId);
    
                alarmInsertMapper.save(AlarmInsert.builder()
                                .typeId(1L)
                                .alarmId(reservationId)
                                .messageId(1L)
                                .build());
            } catch (Exception e) {
                e.printStackTrace();
                throw new ExecutionException("ì‹¤í–‰ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
            }
            return true;
        }
}

```
<br/>

- controllerì—ì„œ ë³´ë‚¸ reservationIdë¡œ ì˜ˆì•½ statusë¥¼ ë°”ê¿”ì¤€ë‹¤.

---

<br/><br/>

**mapper**

```java

@Mapper
public interface AdminReservationMapper {

    int acceptById(Long id);

}

```
<br/>

- serviceì—ì„œ ë³´ë‚¸ reservationIdë¡œ ì˜ˆì•½ statusë¥¼ ë°”ê¿”ì¤€ë‹¤.

---

<br/><br/>

**sql**

```java

<update id="acceptById">
    update reservation_tb
    set
        status = 2
    where
        id = #{id}
</update>

```
<br/>

- statusë¥¼ ì˜ˆì•½ ìˆ˜ë½ ìƒíƒœì¸ 2ë¡œ ë°”ê¾¼ë‹¤.

---

</div>
</details>

<details>
<summary>ì˜ˆì•½ ì·¨ì†Œ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

```java

@RestController
@RequestMapping("/admin")
public class AdminReservationController {

    @Autowired
    private AdminReservationService reservationService;

    // ì˜ˆì•½ ì·¨ì†Œ
    @PutMapping("/reservation/cancel/{reservationId}")
    public ResponseEntity<?> cancelReservation(@PathVariable Long reservationId) {
        return ResponseEntity.ok().body(reservationService.cancelReservation(reservationId));
    }
}

```
<br/>

- í”„ë¡ íŠ¸ì—ì„œ ì·¨ì†Œí•´ ì¤„ ì˜ˆì•½ì˜ reservationIdë¥¼ ë°›ëŠ”ë‹¤.

---

<br/><br/>

**service**

```java

@Service
public class AdminReservationService {

    @Autowired
    private AdminReservationMapper reservationMapper;

    public Boolean cancelReservation(Long reservationId) {
            try {
                reservationMapper.cancelById(reservationId);
            } catch (Exception e) {
                throw new ExecutionException("ì‹¤í–‰ ë„ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
            }
            return true;
        }
}

```
<br/>

- controllerì—ì„œ ë³´ë‚¸ reservationIdë¡œ ì˜ˆì•½ statusë¥¼ ë°”ê¿”ì¤€ë‹¤.

---

<br/><br/>

**mapper**

```java

@Mapper
public interface AdminReservationMapper {

    int cancelById(Long id);

}

```
<br/>

- serviceì—ì„œ ë³´ë‚¸ reservationIdë¡œ ì˜ˆì•½ statusë¥¼ ë°”ê¿”ì¤€ë‹¤.

--- 

<br/><br/>

**sql**

```java

<update id="cancelById">
    update reservation_tb
    set
        status = 3
    where
        id = #{id}
</update>

```
<br/>

- statusë¥¼ ì˜ˆì•½ ì·¨ì†Œ ìƒíƒœì¸ 3ìœ¼ë¡œ ë°”ê¾¼ë‹¤.

---

</div>
</details>



<br/>

### ì‚¬ìš©ì ì˜ˆì•½ ê¸°ëŠ¥ ì½”ë“œ ë¦¬ë·°

<details>
<summary>ì˜ˆì•½í•˜ê¸° ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

    
</div>
</details>

<details>
<summary>ì˜ˆì•½ì¡°íšŒ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

    
</div>
</details>

<details>
<summary>ì˜ˆì•½ìˆ˜ì • ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

<br/>

**controller**

```java



```
    
</div>
</details>






